:::writing{id="58341" variant="email" subject="map.html test file"}
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Test Leaflet Map</title>

    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />
    <style>
      #map {
        height: 100vh;
        width: 100%;
      }
    </style>
  </head>
  <body>
    <div id="map"></div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
  const map = L.map('map').setView([20.5937, 78.9629], 5);

  L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);

 fetch('http://127.0.0.1:8000/survey/points/geojson')
  .then(res => res.json())
  .then(data => {
    L.geoJSON(data, {
      onEachFeature: (feature, layer) => {
        layer.bindPopup(`
          <b>${feature.properties.estuary_name}</b><br>
          Depth: ${feature.properties.depth}<br>
          Lat: ${feature.properties.latitude}<br>
          Lon: ${feature.properties.longitude}
        `);
      }
    }).addTo(map);
  })
  .catch(err => console.error('Error loading GeoJSON:', err));

</script>

      const map = L.map('map').setView([20.5937, 78.9629], 5);

      L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);
    </script>
  </body>
</html>
:::
